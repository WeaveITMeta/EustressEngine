<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Eustress Engine - The Future of Creation | 100% Rust Engine</title>
    <meta name="title" content="Eustress Engine - The Future of Creation | 100% Rust Engine">
    <meta name="description" content="Build anything at the speed of thought with Eustress Engine. 100% Rust-powered, memory-safe, blazing fast engine with built-in multiplayer, Soul scripting and Groups integration. Free forever.">
    <meta name="keywords" content="game engine, rust game engine, game development, indie game dev, multiplayer games, Soul scripting, bevy, rust, wasm, webassembly, steam games, game creator, 3d engine, voxel engine, point cloud, cad, simulation, most powerful engine">
    <meta name="author" content="Eustress Engine">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="theme-color" content="#0a0a12">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://eustress.dev/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://eustress.dev/">
    <meta property="og:title" content="Eustress Engine - The Future of Creation">
    <meta property="og:description" content="Build anything at the speed of thought. 100% Rust-powered engine with built-in multiplayer, Soul scripting, and Groups integration. Free forever.">
    <meta property="og:image" content="https://eustress.dev/assets/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Eustress Engine">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://eustress.dev/">
    <meta name="twitter:title" content="Eustress Engine - The Future of Creation">
    <meta name="twitter:description" content="Build anything at the speed of thought. 100% Rust-powered engine with built-in multiplayer, Soul scripting, and Groups integration. Free forever.">
    <meta name="twitter:image" content="https://eustress.dev/assets/og-image.png">
    <meta name="twitter:site" content="@eustressengine">
    <meta name="twitter:creator" content="@eustressengine">
    
    <!-- NLWeb / AI Discovery -->
    <link rel="nlweb" href="/.well-known/nlweb.json" type="application/json">
    
    <!-- Favicon -->
    <link data-trunk rel="copy-dir" href="assets" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
    <link rel="manifest" href="/assets/site.webmanifest">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link data-trunk rel="css" href="style/main.css">
    
    <!-- Structured Data - Organization -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Eustress Engine",
        "url": "https://eustress.dev",
        "logo": "https://eustress.dev/assets/logo.svg",
        "description": "Next-generation game engine built in Rust",
        "sameAs": [
            "https://twitter.com/eustressengine",
            "https://discord.gg/eustress",
            "https://store.steampowered.com/app/eustress"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "url": "https://discord.gg/eustress"
        }
    }
    </script>
    
    <!-- Structured Data - Software Application -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Eustress Engine",
        "operatingSystem": "Windows, macOS, Linux",
        "applicationCategory": "DeveloperApplication",
        "applicationSubCategory": "Game Engine",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250"
        },
        "featureList": [
            "100% Rust-powered",
            "Memory-safe",
            "Built-in multiplayer",
            "Soul scripting",
            "Steam integration",
            "Cross-platform",
            "Hot reload",
            "10M+ instances support"
        ],
        "screenshot": "https://eustress.dev/assets/screenshot.png",
        "softwareVersion": "0.16.1",
        "releaseNotes": "https://eustress.dev/changelog"
    }
    </script>
    
    <!-- Structured Data - WebSite (for sitelinks search) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Eustress Engine",
        "url": "https://eustress.dev",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://eustress.dev/gallery?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    
    <!-- Structured Data - AI Training Service (EEP) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebAPI",
        "name": "Eustress Export Protocol (EEP)",
        "description": "Train AI models with consented 3D spatial data. Export entities, scenes, and hierarchies in TOON format for 50% token reduction compared to JSON.",
        "url": "https://eustress.dev/ai",
        "documentation": "https://eustress.dev/docs/networking#eep-sdk",
        "provider": {
            "@type": "Organization",
            "name": "Eustress Engine"
        },
        "termsOfService": "https://eustress.dev/terms",
        "category": "AI Training Data",
        "applicationCategory": "3D Spatial Data Export",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "description": "Free API access with rate limits"
        }
    }
    </script>
    
    <!-- Structured Data - MCP Server API -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebAPI",
        "name": "Eustress MCP Server",
        "description": "Model Control Protocol server for AI-controllable 3D worlds. Execute Rune scripts, manage entities, and stream real-time spatial data via HTTP, WebTransport, or WebSocket.",
        "url": "https://forge.eustress.io",
        "documentation": "https://eustress.dev/docs/networking#mcp",
        "provider": {
            "@type": "Organization",
            "name": "Eustress Engine"
        },
        "category": "AI Integration API",
        "applicationCategory": "3D World Control"
    }
    </script>
    
    <!-- Structured Data - SDK Software -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareSourceCode",
        "name": "Eustress EEP SDK",
        "description": "Official SDKs for Rust, Python, and Node.js to integrate with Eustress Export Protocol for 3D AI training pipelines.",
        "codeRepository": "https://github.com/eustressengine/eep-sdk",
        "programmingLanguage": ["Rust", "Python", "JavaScript"],
        "runtimePlatform": ["Cargo", "PyPI", "npm"],
        "license": "https://opensource.org/licenses/MIT",
        "downloadUrl": "https://sdk.eustress.io"
    }
    </script>
    
    <!-- WASM -->
    <link data-trunk rel="rust" href="Cargo.toml" data-target-name="eustress-web" data-wasm-opt="0" />
</head>
<body>
    <!-- App mounts here -->
    <div id="app"></div>
    
    <!-- Loading indicator (hidden by JS once WASM loads) -->
    <div id="loading" style="position:fixed;inset:0;background:#0a0a12;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;color:#fff;font-family:Inter,sans-serif;">
        <div style="width:48px;height:48px;border:3px solid #333;border-top-color:#4682B4;border-radius:50%;animation:spin 1s linear infinite;"></div>
        <p style="margin-top:20px;font-size:14px;opacity:0.7;">Loading Eustress Engine...</p>
        <p id="loading-status" style="margin-top:8px;font-size:12px;opacity:0.5;"></p>
    </div>
    <style>@keyframes spin{to{transform:rotate(360deg)}}</style>
    
    <script>
        // Check WebAssembly support
        if (typeof WebAssembly === 'undefined') {
            var status = document.getElementById('loading-status');
            if (status) status.textContent = 'Your browser does not support WebAssembly.';
        }
        
        // Track loading progress and errors
        window.addEventListener('error', function(e) {
            var status = document.getElementById('loading-status');
            if (status) status.textContent = 'Error: ' + (e.message || 'Failed to load');
            console.error('Load error:', e);
        });
        
        // Catch unhandled promise rejections (WASM load failures)
        window.addEventListener('unhandledrejection', function(e) {
            var status = document.getElementById('loading-status');
            if (status) status.textContent = 'WASM Error: ' + (e.reason?.message || e.reason || 'Load failed');
            console.error('WASM load error:', e.reason);
        });
        
        // Hide loader when WASM is ready (Trunk fires this event)
        window.addEventListener('TrunkApplicationStarted', function() {
            var loader = document.getElementById('loading');
            if (loader) loader.style.display = 'none';
        });
        
        // Fallback: also check for body content changes
        var checkLoaded = setInterval(function() {
            // Leptos mounts to body, check for .page class
            if (document.querySelector('.page')) {
                var loader = document.getElementById('loading');
                if (loader) loader.style.display = 'none';
                clearInterval(checkLoaded);
            }
        }, 100);
        
        // Timeout fallback - show error after 30 seconds
        setTimeout(function() {
            var loader = document.getElementById('loading');
            var app = document.getElementById('app');
            if (loader && loader.style.display !== 'none' && (!app || app.children.length === 0)) {
                var status = document.getElementById('loading-status');
                if (status) {
                    status.innerHTML = 'Taking too long? <a href="javascript:location.reload()" style="color:#4682B4;">Reload</a> or check your connection.';
                }
            }
        }, 30000);
    </script>
    
    <!-- Fallback for no JavaScript -->
    <noscript>
        <div class="noscript-warning" style="padding:40px;text-align:center;color:#fff;background:#0a0a12;min-height:100vh;">
            <h1>Eustress Engine</h1>
            <p>This site requires JavaScript (WebAssembly) to run.</p>
            <p>Please enable JavaScript in your browser.</p>
        </div>
    </noscript>
</body>
</html>
